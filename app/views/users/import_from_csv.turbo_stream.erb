<% if @import_result[:successfully_imported_count] > 0 %>
  <turbo-stream action="update" target="users_import_notice">
    <template>
      <div class="bg-green-100 border border-green-400 text-green-700 border-l-4 mb-4 p-4" role="alert">
        <h1 class="font-bold">Successfully imported <%= pluralize(@import_result[:successfully_imported_count], "user") %></h1>
      </div>
    </template>
  </turbo-stream>
<% end %>

<% if @import_result[:errors] %>
  <turbo-stream action="update" target="users_import_errors">
    <template>
      <div class="bg-red-100 border border-red-400 text-red-700 border-l-4 mt-4 p-4" role="alert">
        <h1 class="font-bold">Failed to import <%= pluralize(@import_result[:errors].size, "user") %></h1>
        <ul>
        <% @import_result[:errors].each do |row, error_message| %>
          <li><%= row %>: <%= error_message %></li>
        <% end %>
        </ul>
      </div>
    </template>
  </turbo-stream>
<% end %>
